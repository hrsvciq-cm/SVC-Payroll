# دليل استيراد البيانات من النظام المحلي

## خطوات الاستيراد

### 1. تصدير البيانات من النظام المحلي

من النظام المحلي القديم:
- افتح النظام المحلي
- اذهب إلى إعدادات النسخ الاحتياطي
- قم بتصدير البيانات كملف JSON
- احفظ الملف في مكان آمن

### 2. استيراد البيانات إلى النظام الجديد

استخدم السكريبت المخصص لاستيراد البيانات:

```bash
node scripts/import-local-data.js <path-to-backup-file.json>
```

مثال:
```bash
node scripts/import-local-data.js C:\Users\HR\backup-2024-01-15.json
```

### 3. التحقق من الاستيراد

بعد الاستيراد:
- افتح النظام الجديد
- اذهب إلى صفحة الموظفين وتحقق من وجودهم
- تحقق من بيانات الحضور والرواتب

## ملاحظات مهمة

- السكريبت يستخدم `upsert` لذلك يمكن تشغيله عدة مرات بأمان
- إذا كان الموظف موجود بالفعل، سيتم تحديث بياناته
- إذا كان الموظف غير موجود، سيتم إنشاؤه
- السكريبت يتعامل مع الأخطاء ويستمر في الاستيراد حتى لو فشل سجل واحد

## هيكل ملف النسخة الاحتياطية

يجب أن يحتوي ملف JSON على:

```json
{
  "employees": [...],
  "attendance": [...],
  "payroll": [...],
  "deductions": [...],
  "quickCodes": [...]
}
```

## استكشاف الأخطاء

إذا واجهت مشاكل:
1. تحقق من صحة ملف JSON
2. تحقق من اتصال قاعدة البيانات
3. راجع سجلات الأخطاء في Terminal

