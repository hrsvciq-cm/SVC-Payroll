# مثال توضيحي لحساب الراتب

## السيناريو

**موظف:**
- الراتب الأساسي: 3000 ريال
- ساعات العمل اليومية: 8 ساعات

**الشهر:**
- فبراير 2026 (30 يوم)

**الدوام:**
- أيام الحضور: 25 يوم
- أيام الغياب (بتبليغ): 2 يوم
- أيام الغياب (بدون تبليغ): 1 يوم
- ساعات إضافية: 5 ساعات
- تأخير زمني: 30 دقيقة
- تأخير غير زمني: 15 دقيقة

**الخصومات والمكافآت:**
- مكافأة: 200 ريال
- خصم: 100 ريال
- سلف: 50 ريال

---

## الحساب (المنطق الجديد)

### 1. الراتب الأساسي
```
baseSalary = 3000 ريال (ثابت)
```

### 2. حساب خصم الغياب
```
dailySalary = 3000 / 30 = 100 ريال/يوم
totalAbsentDays = 2 + (1 × 2) = 4 أيام
absentDeduction = 100 × 4 = 400 ريال
```

### 3. حساب الساعات الإضافية
```
hourlySalary = 3000 / (30 × 8) = 12.5 ريال/ساعة
overtimePay = 5 × 12.5 = 62.5 ريال
```

### 4. حساب التأخير
```
minuteSalary = 12.5 / 60 = 0.208 ريال/دقيقة
timeDelayDeduction = 30 × 0.208 = 6.25 ريال
nonTimeDelayDeduction = (15 × 2) × 0.208 = 6.25 ريال
```

### 5. صافي الراتب
```
netSalary = baseSalary 
          + overtimePay
          + totalBonuses
          - absentDeduction
          - timeDelayDeduction
          - nonTimeDelayDeduction
          - totalDeductions
          - totalAdvances

netSalary = 3000 
          + 62.5
          + 200
          - 400
          - 6.25
          - 6.25
          - 100
          - 50

netSalary = 2700 ريال
```

---

## ملخص الحساب

| البند | المبلغ |
|------|--------|
| الراتب الأساسي | 3000.00 |
| + الساعات الإضافية | +62.50 |
| + المكافآت | +200.00 |
| - خصم الغياب | -400.00 |
| - التأخير الزمني | -6.25 |
| - التأخير غير الزمني | -6.25 |
| - الخصومات | -100.00 |
| - السلف | -50.00 |
| **صافي الراتب** | **2700.00** |

---

## الفرق بين المنطق القديم والجديد

### المنطق القديم (خطأ):
```
baseSalary = 3000 - 400 = 2600 ❌
netSalary = 2600 + 62.5 + 200 - 6.25 - 6.25 - 100 - 50 = 2700
```

### المنطق الجديد (صحيح):
```
baseSalary = 3000 (ثابت) ✅
netSalary = 3000 + 62.5 + 200 - 400 - 6.25 - 6.25 - 100 - 50 = 2700
```

**الفرق**: الراتب الأساسي يبقى ثابت ويعكس الراتب المستحق، والاستقطاعات تُخصم من صافي الراتب.

